#!/usr/bin/perl
use DBI;
use Cwd;
# Read the standard input (sent by the form):
read(STDIN, $FormData, $ENV{'CONTENT_LENGTH'});
# Get the name and value for each form input:
@pairs = split(/&/, $FormData);
# Then for each name/value pair....
foreach $pair (@pairs) {
	# Separate the name and value:
	($name, $value) = split(/=/, $pair);
	# Convert + signs to spaces:
	$value =~ tr/+/ /;
	# Convert hex pairs (%HH) to ASCII characters:
	$value =~ s/%([a-fA-F0-9][a-fA-F0-9])/pack("C", hex($1))/eg;
	# Store values in a hash called %FORM:
	$FORM{$name} = $value;
}


$ipAddress = $FORM{"ipAddressTB"};


##----- put your code here
#print "Content-type: text/html\r\n\r\n";

$startcommand = "perl sshattack.pl " . $ipAddress; 
                        $pid = fork;
                        die "fork failed" unless defined $pid;
                        if ($pid ==0)
                        {
			
                        system($startcommand);
			
			
                        }
##----- end of your code

my $url = "menu.pl";
print "Location: $url\n\n";
